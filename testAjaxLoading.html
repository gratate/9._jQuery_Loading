<html>
<head>
<!-- jQuery v1.9.1 -->
<script src="jquery-1.9.1.min.js"></script>
<script>
function doSendAjax(){
	setTimeout(function(){
		$("#loadIMG").show();
	}, 1);
}
function sendAjax(){
	$.ajax({
		url : "getDATA.jsp",
		type : "GET",
		dataType : "text",
		cache: false,
		async: false,
		contentType: "application/x-www-form-urlencoded",	//fix 接不到值問題
		//contentType: "multipart/form-data",
		
		success : function() {
			alert("SUCCESS");
		},
		
		complete: function() {
			$("#loadIMG").hide();
		}, 
		
		error: function (jqXHR, exception) {
	        var msg = '';
	        //alert("jqXHR.status = " + jqXHR.status + ", exception = " + exception );
	        if (jqXHR.status === 0) {
	            msg = 'Not connect.\n Verify Network.';
	        } else if (jqXHR.status == 404) {
	            msg = 'Requested page not found. [404]';
	        } else if (jqXHR.status == 500) {
	            msg = 'Internal Server Error [500].';
	        } else if (exception === 'parsererror') {
	            msg = 'Requested JSON parse failed.';
	        } else if (exception === 'timeout') {
	            msg = 'Time out error.';
	        } else if (exception === 'abort') {
	            msg = 'Ajax request aborted.';
	        } else {
	            msg = 'Uncaught Error.\n' + jqXHR.responseText;
	        }
	        alert(msg);
	    }
	});
}

</script>
</head>
<body>
	<input type="button" value="loading" onClick="doSendAjax()" />
	<div id="loadIMG" style="display:none">
		<img src="ajax-loader.gif"> 資料處理中,請稍後
	</div>
</body>
</html>